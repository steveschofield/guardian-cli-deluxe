Setup a new machine (non docker)
python3 -m venv venv
source venv/bin/activate
pip install -e .

sudo apt instll code-oss (visual code)
git clone https://github.com/steveschofield/guardian-cli-deluxe
./setup.sh

============


export LSG_ALLOW_PRIVATE=1
export LSG_LOG_LLM_REQUESTS=1
export LSG_DEBUG_SAVE_OUTPUT=1
export LLM_FAST_MODEL=llama3.1:8b
export LLM_PROVIDER=ollama
export LLM_BASE_URL=http://192.168.1.69:11434/v1
export LLM_SMART_MODEL=llama3.1:8b
export LLM_CODE_MODEL=llama3.1:8b
export LLM_MODEL=llama3.1:8b

python -m cli.main workflow run --name autonomous --target http://192.168.1.130:3000
 
Gap snapshot

Guardian is rich in security scanners but lacks Shannon’s deliverable/TOTP helpers and MCP tool-loading.
Shannon has no built-in recon/vuln scanners; relies on external MCP servers for extras.
Integration plan (proposed)

1. Port Shannon helper tools: add save_deliverable (with queue JSON validation + filename mapping) and generate_totp as Guardian-native tools, exposed via ToolAgent and CLI; mirror Shannon file layout so reports align.

2. Add optional MCP bridge: small client wrapper (modeled after llm-client.js) to register MCP tool schemas alongside BaseTool wrappers, enabling Playwright/browsers or future custom tools without changing Guardian code.

(done) 3. Expand scanner set in phases: (a) quick wins—ProjectDiscovery naabu (fast port scan), katana (crawler), mapcidr/asnmap (net mapping); (b) web fuzzing depth—dirsearch/feroxbuster, waybackurls/gau for historical paths; (c) service-specific—smbclient/crackmapexec for AD, kerbrute, bloodhound export support if in scope.

(done) 4. Config/reporting harmonization: extend guardian.yaml for tool toggles/default args, add deliverable output paths compatible with Shannon report expectations, and log availability hints (similar to ToolAgent.log_tool_availability) for new tools.

5. Validation/tests: add lightweight unit tests for new helpers (queue validation, TOTP), plus a smoke script that lists available tools and runs --version to catch missing deps.


Shannon architecture.
Shannon’s pipeline isn’t LLM-picked per run—it has a scripted playbook of agents that fire whatever tools are wired into each stage, gated only by availability/config. Examples:

crawler-agent.js runs katana → gospider → hakrawler → gau/gauplus → waybackurls → (optionally) waymore/subjs/etc., checking isToolAvailable before each.
js-harvester-agent.js and content-discovery-agent.js do the same for linkfinder/xnlinkfinder/paramspider/dirsearch/feroxbuster/gobuster.
secret-scanner-agent.js, parameter-discovery-agent.js, schemathesis-agent.js, etc. each run their tool if present.
Preflight in preflight.js just reports what’s available; the playbook then uses everything it knows about that’s available.
So on a fresh run Shannon will attempt the full toolchain it’s coded to use, skipping only what’s missing or disabled—there’s no single-tool LLM selector like in Guardian.
